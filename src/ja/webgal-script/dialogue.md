# 会話

::: warning
各会話の冒頭のコロン、セミコロンは英字で記述してください！
:::

**キャラクターの会話の書き方はとても簡単で、自然言語とほとんど変わりません。**

::: info
フォントが中、大のときはテキストボックスは2行表示され、フォントが小のときは3行表示されます。
:::

## 基本的なキャラクターの会話

まず、メモ帳やVS Code、sublimeなどのテキストエディタで、ゲームのリソースディレクトリにある`scene`フォルダの中の`start.txt`を開いて、最初の会話の記述を始めましょう。

キャラクターの会話の書き方はとても簡単で、`キャラクター:会話;`と入力するだけです。

例：

``` ws
雪ノ下雪乃:お茶どうぞ;
由比ヶ浜:あ、ありがとう;
小町:雪乃姉ありがとう！;
一色:先輩ありがとう。;
```

各会話/シナリオの最後には、セミコロンを打って終了してください。（セミコロンを打たなくても動く場合もありますが、バグ防止のため作者はセミコロンを打つことを推奨します。）

## 連続会話

複数の会話でキャラクター名が変わらない場合は、連続会話としてキャラクター名を省略して、必要なときにだけキャラクター名を書くことができます。

``` ws
雪ノ下雪乃:随分早いですね;
; // このとき、会話のキャラクター名はまだ「雪ノ下雪乃」です
お待たせしてしまいましたか？;
比企谷八幡:今来たばかりですよ;
```

## ナレーション

キャラクター名のないナレーションの会話を作成したい場合は、コロンの前に空白を入れてください（コロンは省略できません）。

``` ws
:これはナレーションです;
```

## 黒画面テキスト

多くのゲームでは、テーマを導入したり、キャラクターの心理描写を表現したりするために、黒画面にテキストが表示されます。独白を演出するには、introコマンドを使用します。

``` ws
intro:思い出には適した脚本はいらない、|口に出せば、|それは戯言になる。;
```

独白の改行は区切り記号（|）で行われます。つまり、|ごとに改行されます。実際の演出では、上記のテキストは次のように表示されます。

``` ws
思い出には適した脚本はいらない、
口に出せば、
それは戯言になる。
```

## ユーザー入力を取得する

`getUserInput`コマンドを使用してユーザー入力を取得し、変数に書き込みます。たとえば、

```
getUserInput:name -title=あなたの呼び方は -buttonText=決定; ユーザー入力をname変数に書き込む
```

ここで、`title`パラメータはプロンプトのテキストで、`buttonText`は確認ボタンのテキストです。

## 変数の補完

`{}`構文を使用してステートメント内で変数の補完を行い、変数をステートメントに挿入できます。たとえば、

```
WebGAL:はじめまして、{name}さん！
```

変数の補完は、キャラクター名にも適用されます。たとえば、

```
{name}:私もWebGALが一番好きです！;
```

## ルビ

会話テキストにルビを振ることは、日本語のゲームではよく見られる演出効果です。日本語では、書き方と読み方が一致しない単語がよくあります。

ルビの構文は`[ルビを振る単語](ルビ)`です。

例：

```
『[笑顔](えがお)』なんて、『[笑う](わらう)』なんて、[誰](だれ)でも[出来](でき)るもん…！
```

## テキストボックスを閉じる

特殊な演出効果のために、一時的にテキストボックスを閉じたい場合があります。そのため、次のコマンドを使用してテキストボックスを閉じることができます。

``` ws
setTextbox:hide; // テキストボックスを閉じる
```

`setTextbox`コマンドの値が`hide`の場合、テキストボックスは閉じられ、ユーザーはどの方法でも開くことができません。テキストボックスを再度表示するには、このコマンドをもう一度呼び出して、`hide`以外の任意の値を入力します。

``` ws
setTextbox:on; // hide以外の任意の値にすることができます。
```

## ゲームを終了してタイトルに戻る

ストーリーの最後にゲームを終了してタイトルに戻したい場合は、次を使用してください。

``` ws
end;
```

これにより、ゲームはタイトル画面に戻ります。

## 映画モード（テスト機能）

`filmMode:enable;`を使用して映画モードを有効にします。
`filmMode:none;`を使用して映画モードを無効にします。